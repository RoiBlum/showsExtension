(function(){const t=window.location.href,o=[{type:"manga",regex:/manga\/([^\/]+)\/chapter-(\d+)/},{type:"anime",regex:/anime\/([^\/]+)\/episode-(\d+)/},{type:"movie",regex:/movie\/([^\/]+)\/watch/},{type:"manhua",regex:/manhua\/([^\/]+)\/chapter-(\d+)/},{type:"manhwa",regex:/manhwa\/([^\/]+)\/chapter-(\d+)/}];for(const e of o){const a=t.match(e.regex);if(a){const r=decodeURIComponent(a[1]),n=a[2]??"watched";chrome.runtime.sendMessage({type:"save-manga",payload:{title:r,chapter:n,mediaType:e.type,url:t}});return}}const s=/asuracomic\.net\/series\/([^\/]+)\/chapter\/(\d+)/,c=t.match(s);if(c){let e=c[1];const a=c[2];e=e.replace(/-[a-f0-9]{6,8}$/,"");const r=e.split("-").map(n=>n.charAt(0).toUpperCase()+n.slice(1)).join(" ");chrome.runtime.sendMessage({type:"save-manga",payload:{title:r,chapter:a,mediaType:"manhwa",url:t}})}})();
